C51 COMPILER V9.60.7.0   DIO_PRG                                                           12/03/2023 11:06:02 PAGE 1   


C51 COMPILER V9.60.7.0, COMPILATION OF MODULE DIO_PRG
OBJECT MODULE PLACED IN .\Objects\DIO_PRG.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE MCAL\DIO_PRG.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listi
                    -ngs\DIO_PRG.lst) TABS(2) OBJECT(.\Objects\DIO_PRG.obj)

line level    source

   1          #include "LIB\STD_TYPES.h"
   2          #include "LIB\BIT_MATH.h"
   3          #include "MCAL\DIO_INT.h"
   4          #include "MCAL\DIO_REG.h"
   5          
   6          
   7          /* IO Pins */
   8          void DIO_SetPinDirection (u8 u8PortIdCopy, u8 u8PinIdCopy, u8 u8PinDirCopy)
   9          {
  10   1        /* Make sure that the Port ID and Pin ID are in the valid range */
  11   1        if ((u8PortIdCopy <= PORT3) && (u8PinIdCopy <= PIN7))
  12   1        {
  13   2          if ( u8PinDirCopy == INPUT )
  14   2          {
  15   3            /* Check on the Required PORT Number */
  16   3            switch (u8PortIdCopy)
  17   3            {
  18   4              case PORT0: SET_BIT(PORT0_Register,u8PinIdCopy); break;
  19   4              case PORT1: SET_BIT(PORT1_Register,u8PinIdCopy); break;
  20   4              case PORT2: SET_BIT(PORT2_Register,u8PinIdCopy); break;
  21   4              case PORT3: SET_BIT(PORT3_Register,u8PinIdCopy); break;
  22   4            }
  23   3          }
  24   2      
  25   2          else if ( u8PinDirCopy == OUTPUT )
  26   2          {
  27   3            /* Check on the Required PORT Number */
  28   3            switch (u8PortIdCopy)
  29   3            {
  30   4              case PORT0: CLR_BIT(PORT0_Register,u8PinIdCopy); break;
  31   4              case PORT1: CLR_BIT(PORT1_Register,u8PinIdCopy); break;
  32   4              case PORT2: CLR_BIT(PORT2_Register,u8PinIdCopy); break;
  33   4              case PORT3: CLR_BIT(PORT3_Register,u8PinIdCopy); break;
  34   4            }
  35   3          }
  36   2      
  37   2          else
  38   2          {
  39   3            /* Do nothing, Wrong Direction Required */
  40   3          }
  41   2        }
  42   1      
  43   1        else
  44   1        {
  45   2          /* Do nothing, Error in the Pin ID or PORT ID */
  46   2        }
  47   1      }
  48          
  49          void DIO_SetPortDirection (u8 u8PortIdCopy, u8 u8PortDirCopy)
  50          {
  51   1        /* Make sure that the Port ID and Pin ID are in the valid range */
  52   1          if ( u8PortDirCopy == INPUT )
  53   1          {
  54   2            /* Check on the Required PORT Number */
C51 COMPILER V9.60.7.0   DIO_PRG                                                           12/03/2023 11:06:02 PAGE 2   

  55   2            switch (u8PortIdCopy)
  56   2            {
  57   3              case PORT0: PORT0_Register = 0xff ; break;
  58   3              case PORT1: PORT1_Register = 0xff ; break;
  59   3              case PORT2: PORT2_Register = 0xff ; break;
  60   3              case PORT3: PORT3_Register = 0xff ; break;
  61   3            }
  62   2          }
  63   1      
  64   1          else if ( u8PortDirCopy == OUTPUT )
  65   1          {
  66   2            /* Check on the Required PORT Number */
  67   2            switch (u8PortIdCopy)
  68   2            {
  69   3              case PORT0: PORT0_Register = 0x00 ; break;
  70   3              case PORT1: PORT1_Register = 0x00 ; break;
  71   3              case PORT2: PORT2_Register = 0x00 ; break;
  72   3              case PORT3: PORT3_Register = 0x00 ; break;
  73   3            }
  74   2          }
  75   1      
  76   1        else
  77   1        {
  78   2          /* Do nothing, Error in  PORT ID */
  79   2        }
  80   1      }
  81          
  82          u8 DIO_GetPinValue(u8 u8PortIdCopy, u8 u8PinIdCopy)
  83          {
  84   1        /* Define Local Variable to get the BIT Value */
  85   1        u8 u8ResultLocal;
  86   1        /* Make sure that the Port ID and Pin ID are in the valid range */
  87   1        if ((u8PortIdCopy <= PORT3) && (u8PinIdCopy <= PIN7))
  88   1        {
  89   2          /* Check on the Required PORT Number */
  90   2          switch (u8PortIdCopy)
  91   2          {
  92   3            case PORT0: u8ResultLocal= GET_BIT(PORT0_Register,u8PinIdCopy); break;
  93   3            case PORT1: u8ResultLocal= GET_BIT(PORT1_Register,u8PinIdCopy); break;
  94   3            case PORT2: u8ResultLocal= GET_BIT(PORT2_Register,u8PinIdCopy); break;
  95   3            case PORT3: u8ResultLocal= GET_BIT(PORT3_Register,u8PinIdCopy); break;
  96   3          }
  97   2        }
  98   1        else
  99   1        {
 100   2          /* return 0xff in case of error in the Pin ID or PORT ID */
 101   2          u8ResultLocal = 0xFF;
 102   2        }
 103   1        return u8ResultLocal;
 104   1      }
 105          void DIO_SetPortValue(u8 u8PortIdCopy,  u8 A_u8PortVal)
 106          {
 107   1        if(u8PortIdCopy <= PORT3)
 108   1        {
 109   2          switch(u8PortIdCopy)
 110   2          {
 111   3            case PORT0:
 112   3              PORT0_Register= A_u8PortVal; break;
 113   3            case PORT1:
 114   3              PORT1_Register= A_u8PortVal; break;
 115   3            case PORT2:
 116   3              PORT2_Register= A_u8PortVal; break;
C51 COMPILER V9.60.7.0   DIO_PRG                                                           12/03/2023 11:06:02 PAGE 3   

 117   3            case PORT3:
 118   3              PORT3_Register= A_u8PortVal; break;
 119   3          }
 120   2        }
 121   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    359    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
